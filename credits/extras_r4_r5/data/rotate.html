<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">		<title>QuakeC Extras - Rotating Brushes</title>	</head>	<body bgcolor="#ffffff">		<p><font size="3"><b>Rotating Brushes | <a href="../index.html">Index</a></b></font><font size="2"><br>				<br>				These are some of  the hardest things to create (properly) and require some abstract thinking. They are fully compatible with Hipnotic's (now Ritual) &quot;Scourge of Armagon&quot; Mission Pack 1. You can get example map files from <a href="http://www.ritual.com/scourge/files.html">Ritual's website</a> (grab the &quot;All.zip&quot;, as most of the other files are missing).<br>				<br>								There is a &quot;Quick Start&quot; included at the <a href="#quickstart">bottom of this page</a> (originally from the &quot;Paroxysm&quot; mod).<br>				<br>				CZG (Quake mapper extraordinaire) has written a &quot;Hiprot Explaination&quot; available online: <a href="http://www.planetquake.com/greyvoid/czg_rotate.txt">http://www.planetquake.com/greyvoid/czg_rotate.txt</a>.<br>			</font></p>		<hr align="left" noshade size="1" width="90%">		<b><font color="red">The following is Hipnotic's original documentation:</font><br>		</b>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>info_rotate</i></b></font><font size="2"> (0 0.5 0) (-4 -4 -4) (4 4 4)<br>			Used as the point of rotation for rotatable objects.<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>func_rotate_entity</i></b></font><font size="2"> (0 .5 .8) (-8 -8 -8) (8 8 8) TOGGLE START_ON<br>			Creates an entity that continually rotates.  Can be toggled on and off if targeted.<br>			<br>			TOGGLE = allows the rotation to be toggled on/off<br>			<br>			START_ON = wether the entity is spinning when spawned.  If TOGGLE is 0, entity can be turned on, but not off.<br>			<br>			If &quot;deathtype&quot; is set with a string, this is the message that will appear when a player is killed by the train.<br>			<br>			&quot;rotate&quot; is the rate to rotate.<br>			<br>			&quot;target&quot; is the center of rotation.<br>			<br>			&quot;speed&quot;  is how long the entity takes to go from standing still to full speed and vice-versa.<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>path_rotate</i></b></font><font size="2"> (0.5 0.3 0) (-8 -8 -8) (8 8 8) ROTATION ANGLES STOP NO_ROTATE DAMAGE MOVETIME SET_DAMAGE<br>			Path for rotate_train.<br>			<br>			ROTATION tells train to rotate at rate specified by &quot;rotate&quot;.  Use '0 0 0' to stop rotation.<br>			<br>			ANGLES tells train to rotate to the angles specified by &quot;angles&quot; while traveling to this path_rotate.  Use values &lt; 0 or &gt; 360 to guarantee that it turns in a certain direction.  Having this flag set automatically clears any rotation.<br>			<br>			STOP tells the train to stop and wait to be retriggered.<br>			<br>			NO_ROTATE tells the train to stop rotating when waiting to be triggered.<br>			<br>			DAMAGE tells the train to cause damage based on &quot;dmg&quot;.<br>			<br>			MOVETIME tells the train to interpret &quot;speed&quot; as the length of time to take moving from one corner to another.<br>			<br>			SET_DAMAGE tells the train to set all targets damage to &quot;dmg&quot;<br>			<br>			&quot;noise&quot; contains the name of the sound to play when train stops.<br>			<br>			&quot;noise1&quot; contains the name of the sound to play when train moves.<br>			<br>			&quot;event&quot; is a target to trigger when train arrives at path_rotate.<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>func_rotate_train</i></b></font><font size="2"> (0 .5 .8) (-8 -8 -8) (8 8 8)<br>			In path_rotate, set speed to be the new speed of the train after it reaches the path change.  If speed is -1, the train will warp directly to the next path change after the specified wait time.  If MOVETIME is set on the path_rotate, the train to interprets &quot;speed&quot; as the length of time to take moving from one corner to another.<br>			<br>			&quot;noise&quot; contains the name of the sound to play when train stops.<br>			<br>			&quot;noise1&quot; contains the name of the sound to play when train moves.<br>			<br>			Both &quot;noise&quot; and &quot;noise1&quot; defaults depend upon &quot;sounds&quot; variable and can be overridden by the &quot;noise&quot; and &quot;noise1&quot; variable in path_rotate.<br>			<br>			Also in path_rotate, if STOP is set, the train will wait until it is retriggered before moving on to the next goal.<br>			<br>			Trains are moving platforms that players can ride.<br>			<br>			&quot;path&quot; specifies the first path_rotate and is the starting position. If the train is the target of a button or trigger, it will not begin moving until activated.  The func_rotate_train entity is the center of rotation of all objects targeted by it.<br>			<br>			If &quot;deathtype&quot; is set with a string, this is the message that will appear when a player is killed by the train.<br>			<br>			speed   default 100<br>			<br>			dmg      default  0<br>			<br>			sounds<br>			1) ratchet metal<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>rotate_object</i></b></font><font size="2"> (0 .5 .8) ?<br>			This defines an object to be rotated.  Used as the target of func_rotate_door.<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>func_rotate_door</i></b></font><font size="2"> (0 .5 .8) (-8 -8 -8) (8 8 8) STAYOPEN<br>			Creates a door that rotates between two positions around a point of rotation each time it's triggered.<br>			<br>			STAYOPEN tells the door to reopen after closing.  This prevents a trigger-once door from closing again when it's blocked.<br>			<br>			&quot;dmg&quot; specifies the damage to cause when blocked.  Defaults to 2. Negative numbers indicate no damage.<br>			<br>			&quot;speed&quot; specifies how the time it takes to rotate<br>			<br>			&quot;sounds&quot;<br>			1) medieval (default)<br>			2) metal<br>			3) base<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>func_movewall</i></b></font><font size="2"> (0 .5 .8) ? VISIBLE TOUCH<br>			Used to emulate collision on rotating objects.<br>			<br>			VISIBLE causes brush to be displayed.<br>			<br>			TOUCH specifies whether to cause damage when touched by player.<br>			<br>			NONBLOCKING makes the brush non-solid.  This is useless if VISIBLE is not set.<br>			<br>			&quot;dmg&quot; specifies the damage to cause when touched or blocked.<br>		</font><b><br>			<a name="quickstart"></a></b>		<hr align="left" noshade size="1" width="90%">		<b><font color="red">The following is a &quot;Quick Start&quot; originally written for the Paroxysm Mod:</font><br>		</b>		<hr align="left" noshade size="1" width="90%">		<font size="3"><b><i>SECTION#1 - Making a rotating entity:<br>				</i></b></font><font size="2"><br>			STEP 1. Make a brush or group of brushes to rotate.<br>			<br>			STEP 2. Place an info_rotate entity at the centre of rotation. Give it a targetname<br>			<br>			STEP 3. Convert  the brush(es) from step#1 into a rotate_object, give it a targetname, and set it's target to the info_rotate from step#2<br>			<br>			STEP 4. Create a func_rotate_entity - placement doesn't matter, but it's a good idea to put it near the object it's related to (directly above the info_rotate seems like the best spot). Set  it's target to the rotate_object from step #3 and fill in the rest of the data. NOTE: the 'rotate rate' must be in this format '0 0 0' each number controls the rate of rotaion in each axis (x y z) - the higher the number, the faster the rotation. Positive numbers are clockwise and negative numbers are counter-clockwise. You can also target this entity from a button to start/stop the rotaion, but you'll also have to set it's 'TOGGLE' (and possibly 'START_ON') spawnflag(s).<br>			<br>			STEP 5. Build!<br>			<br>			You should now have a continuous rotating object, doors are similar to set up.  Rotating platforms are similar but need path_rotate entities to follow They are a pain to setup and are not covered here.<br>			<br>			If you require a player to interact with the object, colision detection is the next step.<br>			<br>			<hr align="left" noshade size="1" width="90%">		</font><font size="3"><b><i>SECTION#2 - Setting up colision detection on rotating objects:<br>				</i></b></font><font size="2"><br>			Quake cannot detect colisions with rotating bsp entities so Hipnotic made an ingenious little hack that allows you to follow the rotating brush with a series of moving, invisible clip walls to emulate colision.<br>			<br>			STEP 1. All you have to do is draw brushes that surrond the rotaing brush, covert them to func_movewall entities and target the rotate_object. YOU MUST PRACTICE TO GET THIS RIGHT!<br>			<br>			Tips<br>			- Use the 'VISIBLE' spawn flag so you can see what is actually going on.<br>			- You must use A LOT of func_movewalls for accurate colisions<br>			- You can get some cool effects by using visible func_movewalls - you may not need a visible rotate_object at all!<br>			<br>		</font>		<hr align="left" noshade size="1" width="90%">	</body></html>